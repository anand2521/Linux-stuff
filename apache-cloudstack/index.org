#+TITLE:  How to set up a private cloud for IaaS
#+AUTHOR: Ashay Maheshwari
#+DATE: [2017-01-05  Fri]
#+PROPERTY: results output
#+PROPERTY: exports code
#+SETUPFILE: ./org-templates/level-0.org
#+options: ^:nil


* What are we going to learn today ??
  + Basics of Virtualization and Cloud Computing 
  + Setting up our own Dropbox - The ownCloud
  + Setting up our on Cloud service 
  

* What do you need ??
  + System with atleast 4 GB RAM
  + Ubuntu 14.04 OS 
  + Minimum 100 GB of Hard disk 
  + Basic knowledge working on Ubuntu 14.04 or any linux 
  + Editor like vim or vi or gedit
 

* Introduction to Virtualization ??

** What is Virtualization ??
   Virtualization is a combination of software and hardware
   engineering that creates Virtual Machines (VMs) - an abstraction of
   the computer hardware that allows a single machine to act as if it
   where many machines.
  

** What is without Virtualization ??
   [[./diagrams/without-virtualization.png]]


** How does Virtulization make Life@DataCentres easy ??


** Why Virtualization  
   + Reduced cost
   + Easier backup and disaster recovery 
   + Efficient IT Operations
   + Less Heat
   + Easy migrations 
   + Run multiple difference OS on a single machine 


** Lets understand the difference 
   [[./diagrams/virtualization-diff.png]]


** Hypervisors - Virtual Machine Monitors 
  The hypervisor (also called a virtual machine monitor) is the
  low-level program that allows multiple operating systems to run
  concurrently on a single host computer.

*** Type of hypervisor
   + type 1 virtualization - Bare metal or Native Hypervisor 
   + type 2 virtualization - Hosted Hypervisor
  
   |------+------------------------------------------------------------------+-------------------------------------------------|
   | S.No | Bare Metal                                                       | OS level                                        |
   |------+------------------------------------------------------------------+-------------------------------------------------|
   |    1 | Directly installed in Hardware                                   | Installed and runs on host Operating System     |
   |------+------------------------------------------------------------------+-------------------------------------------------|
   |    2 | The hypervisor is small as its main task is sharing and          | OS manages the resource allocation              |
   |      | managing hardware resources between different operating systems. |                                                 |
   |------+------------------------------------------------------------------+-------------------------------------------------|
   |    3 | A major advantage is that any problems in one virtual machine    | Independent of VM                               |
   |      | or guest operating system do not affect the other guest          |                                                 |
   |      | operating systems running on the hypervisor.                     |                                                 |
   |------+------------------------------------------------------------------+-------------------------------------------------|
   |    4 | Any issue in hypervisor will destroy the full VMs running in it  | Any issue with OS will destroy all the VMs      |
   |      |                                                                  | hosted on it                                    |
   |------+------------------------------------------------------------------+-------------------------------------------------|
   |    5 | Examples - VMware ESXi Server, Microsoft Hyper-V,                | Examples VMware Workstation,  Microsoft Virtual |
   |      | Citrix/Xen Server                                                | PC, Oracle Virtual Box                          |
   |------+------------------------------------------------------------------+-------------------------------------------------|
  
   
            
          
   

   
** Types of Virtualization
*** On the basis of activity 
   + Storage Virtualization 
   + Compute Virtualization 
   + Network Virtualization 

*** On the basis of operational way
   + VM based virtualization
   + Container based Virtualization


** Examples Virtualization technologies  
   + VM based virtualization ::
     Citrix, VM Ware, Oracle Virtual Box
   + Container based Virtualization  ::
     Docker, OpenVZ, LxC


** Problem Solved -- No way
    [[./diagrams/funny-sys-admin.jpg]]


* Introduction to Cloud Computing 

** What is Computing ??

   Computing is the process of manipulation/caculation.  2+2 is
   computating/computaiton. That's what computers do.
   

** What is Cloud ??
   "The Cloud" or "The Network Cloud" is an IT infrastrucuture sitting
   somewhere which contains compute resources like servers, storage,
   network, memory etc.
   
   [[./diagrams/cloud.jpg]]
   

** What it is not ??
 [[./diagrams/cloud-what-it-is-not.png]]


** What is Cloud Computing ??
   Cloud computing is the delivery of computing services—servers,
   storage, databases, networking, software, analytics and more—over
   the Internet (“the cloud”).


** What without Cloud computing ??
   + No Google Drives
   + No Dropbox, Instagram, 
   + Weak IT Operations -
    

** Advantages of Cloud computing ??


** Three layers of Cloud Computing or three platforms of cloud computing 
*** IaaS - Infrastrucuture as a Service 
    +  Cloud infrastructure services, known as Infrastructure as a
       Service (IaaS), are self-service models for accessing,
       monitoring, and managing remote datacenter infrastructures,
       such as compute (virtualized or bare metal), storage,
       networking, and networking services (e.g. firewalls).
    + Instead of having to purchase hardware outright, users can
      purchase IaaS based on consumption, similar to electricity or
      other utility billing.
    +  Examples - AWS, Microsoft Azure, Digital Ocean
*** PaaS - Platform as a Service 
 
    + Platform as a service (PaaS) is a cloud computing model that
      delivers applications over the Internet.
    + In a PaaS model, a cloud provider delivers hardware and software
      tools -- usually those needed for application development -- to
      its users as a service.
    + A PaaS provider hosts the hardware and software on its own
      infrastructure. As a result, PaaS frees users from having to
      install in-house hardware and software to develop or run a new
      application.
    + Examples - Appear IQ, Mendix, Amazon Web Services (AWS) Elastic
      Beanstalk, Google App Engine and Heroku.
       
*** SaaS - Software as a Service 
    + Cloud application services, SaaS uses the web to deliver
      applications that are managed by a third-party vendor and whose
      interface is accessed on the clients’ side.
    + Most SaaS applications can be run directly from a web browser
      without any downloads or installations required, although some
      require plugins.
    + SaaS Examples: Google Apps, Salesforce, Workday, Concur, Citrix
      GoToMeeting, Cisco WebEx
** Well known Cloud service provider 
   + AWS - Amazon Web Services, Digital Ocean, Microsoft Azure, Google Cloud


** Types of Cloud
   + Public Cloud :: AWS, Digital Ocean, Microsoft Azure
   + Private Cloud :: Enterprise Cloud
   + Hybrid Cloud :: Mix of Public and private cloud 


* Lets setup our own DropBox - OwnCloud 
  + OwnCloud is a web application that can store and serve content
    from a centralized location, much like Dropbox. 
  + The difference is that ownCloud 7 allows you to host the serving
    software on your own machines, taking the trust issues out of
    putting your personal data someone else's server.
  + Install OwnCloud on your local machine 
    #+BEGIN_SRC command
    cd /tmp
    wget http://download.opensuse.org/repositories/isv:ownCloud:community/xUbuntu_14.04/Release.key
    sudo apt-key add - < Release.key
    sudo sh -c "echo 'deb http://download.opensuse.org/repositories/isv:/ownCloud:/community/xUbuntu_14.04/ /' >> /etc/apt/sources.list.d/owncloud.list"
    sudo apt-get update
    sudo apt-get install owncloud -y
    sudo apt-get install mariadb-server -y
    
    #+END_SRC
  + Configure your mysql database 
    #+BEGIN_SRC command
    sudo mysql -u root -p
    CREATE DATABASE owncloud;
    GRANT ALL ON owncloud.* to 'owncloud'@'localhost' IDENTIFIED BY 'database_password';
    exit
    #+END_SRC
  + Access
    #+BEGIN_SRC command
    http://your-ip/owncloud
    #+END_SRC
  
* References 
  + https://www.howtoforge.com/how-to-install-owncloud-7-on-ubuntu-14.04
  + https://apprenda.com/library/paas/iaas-paas-saas-explained-compared/
  
